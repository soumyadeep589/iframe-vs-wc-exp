<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product</title>
    <title>IFrame Product New</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
</head>

<body>

    <iframe id="productNew" width="600" height="600" src="productNewIframe.html"></iframe>
    <iframe id="productList" width="600" height="600" src="productListIframe.html"></iframe>
    <iframe id="productDetail" width="600" height="600" src="productDetailIframe.html"></iframe>
    <iframe id="productLatest" width="600" height="600" src="productLatestIframe.html"></iframe>

    <script>
        const productNewIframe = document.getElementById("productNew")
        const productListIframe = document.getElementById("productList")
        const productDetailIframe = document.getElementById("productDetail")
        const productLatestIframe = document.getElementById("productLatest")
        window.addEventListener("message", (event) => {
            if (event.data.type === "newProduct") {
                productListIframe.contentWindow.postMessage({ type: 'newProduct', data: event.data.data }, '*');
            }

            if (event.data.type === "productClicked") {
                productDetailIframe.contentWindow.postMessage({ type: 'productClicked', data: event.data.data }, '*');
            }

            if (event.data.type === "productLatest") {
                productLatestIframe.contentWindow.postMessage({ type: 'productLatest', data: event.data.data }, '*');
            }
        });
    </script>
</body>

</html>